const music = new Audio('Audio/1.mp3')

// music.play()

const songs = [
    {
        id: 1,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/1.jpg"
    },

    {
        id: 2,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/2.jpg"
    },

    {
        id: 3,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/3.jpg"
    },

    {
        id: 4,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/4.jpg"
    },

    {
        id: 5,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/5.jpg"
    },

    {
        id: 6,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/6.jpg"
    },

    {
        id: 7,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/7.jpg"
    },

    {
        id: 8,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/8.jpg"
    },

    {
        id: 9,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/9.jpg"
    },

    {
        id: 10,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/10.jpg"
    },

    {
        id: 11,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/11.jpg"
    },

    {
        id: 12,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/12.jpg"
    },

    {
        id: 13,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/13.jpg"
    },

    {
        id: 14,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/14.jpg"
    },

    {
        id: 15,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/15.jpg"
    },

    {
        id: 16,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/16.jpg"
    },

    {
        id: 17,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/17.jpg"
    },

    {
        id: 18,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/18.jpg"
    },

    {
        id: 19,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/19.jpg"
    },

    {
        id: 20,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/20.jpg"
    },

    {
        id: 21,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/21.jpg"
    },

    {
        id: 22,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/22.jpg"
    },

    {
        id: 23,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/23.jpg"
    },

    {
        id: 24,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/24.jpg"
    },

    {
        id: 25,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/25.jpg"
    },

    {
        id: 26,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/26.jpg"
    },

    {
        id: 27,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/27.jpg"
    },

    {
        id: 28,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/28.jpg"
    },

    {
        id: 29,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/29.jpg"
    },

    {
        id: 30,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/30.jpg"
    },

    {
        id: 31,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/31.jpg"
    },

    {
        id: 32,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/32.jpg"
    },

    {
        id: 33,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/33.jpg"
    },

    {
        id: 34,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/34.jpg"
    },

    {
        id: 35,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/35.jpg"
    },

    {
        id: 36,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/36.jpg"
    },

    {
        id: 37,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/37.jpg"
    },

    {
        id: 38,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/38.jpg"
    },

    {
        id: 39,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/39.jpg"
    },

    {
        id: 40,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/40.jpg"
    },

    {
        id: 41,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/41.jpg"
    },

    {
        id: 42,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/42.jpg"
    },

    {
        id: 43,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/43.jpg"
    },

    {
        id: 44,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/44.jpg"
    },

    {
        id: 45,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/45.jpg"
    },

    {
        id: 46,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/46.jpg"
    },

    {
        id: 47,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/47.jpg"
    },

    {
        id: 48,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/48.jpg"
    },

    {
        id: 49,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/49.jpg"
    },

    {
        id: 50,
        songName: `Tera Naam <br><div class="sub">Darshan Raval & Tulsi Kumar</div>`,
        poster: "IMG/50.jpg"
    },
]

Array.from(document.getElementsByClassName('songitem')).forEach((e, i) => {
    e.getElementsByTagName('img')[0].src = songs[i].poster
    e.getElementsByTagName('h5')[0].innerHTML = songs[i].songName

})

let masterplay = document.getElementById('masterplay')
let wave = document.getElementById('wave')

masterplay.addEventListener('click', () => {
    if (music.paused || music.currentTime <= 0) {
        music.play()
        wave.classList.add('active1')
        masterplay.classList.remove('bi-play-circle-fill')
        masterplay.classList.add('bi-pause-fill')
    }
    else {
        music.pause()
        wave.classList.remove('active1')
        masterplay.classList.add('bi-play-circle-fill')
        masterplay.classList.remove('bi-pause-fill')
    }
})

const Allplay = () => {
    Array.from(document.getElementsByClassName('playlist')).forEach((el) => {
       el.classList.add('bi-play-fill')
       el.classList.remove('bi-pause-circle-fill')
    })
}

const mackBack = () => {
    Array.from(document.getElementsByClassName('songitem')).forEach((el) => {
        el.computedStyleMap.background = 'rgb(105, 105, 105, .0)'
    })
}

let index = 0
let poster = document.getElementById('poster')
let title = document.getElementById('title')
Array.from(document.getElementsByClassName('play1')).forEach((e) => {
    e.addEventListener('click', (el) => {
        index = el.target.id
        music.src = `audio/${index}.mp3`
        poster.src = `img/${index}.jpg`
        music.play()
        masterplay.classList.remove('bi-play-circle-fill')
        masterplay.classList.add('bi-pause-fill')

        let songTitles = songs.filter((els) => {
            return els.id == index
        })
        songTitles.forEach(elss => {
            let { songName } = elss
            title.innerHTML = songName
        })

        mackBack()
        Array.from(document.getElementsByClassName('songitem'))[index - 1].computedStyleMap.background = "rgb(105, 105, 105, .1)"
        // Allplay()
        el.classList.remove('bi-pause-fill')
        el.classList.add('bi-play-fill')
        wave.classList.add('active1')
    })
})

let start = document.getElementById('start')
let end = document.getElementById('end')

music.addEventListener('timeupdate', () => {
    let music = music.currentTime
    let music_dur = music.duration
    // console.log(musics)

    let min1 = Math.floor(music_dur / 60)
    let sec1 = Math.floor(music_dur % 60)

    end.innerText = `$(min1):$(sec1)`

     if (sec1 < 10) {   
        sec1 = `0${sec1}`
     }

    let min2 = Math.floor(music / 60)
    let sec2 = Math.floor(music % 60)

    end.innerText = `$(min2):$(sec2)`
})















let pop_song_left = document.getElementById('pop_song_left')
let pop_song_right = document.getElementById('pop_song_right')
let pop_song = document.getElementsByClassName('pop_song')[0]

pop_song_right.addEventListener('click', () => {
    pop_song.scrollLeft += 330
})

pop_song_left.addEventListener('click', () => {
    pop_song.scrollLeft -= 330
})

let pop_art_left = document.getElementById('pop_art_left')
let pop_art_right = document.getElementById('pop_art_right')
let pop_art = document.getElementsByClassName('ani')[0]

pop_art_right.addEventListener('click', () => {
    pop_art.scrollLeft += 330
})

pop_art_left.addEventListener('click', () => {
    pop_art.scrollLeft -= 330
})